<h1 align="center">Gitman</h1>

<p align="center">
  <img width="545" alt="Screenshot 2025-06-25 at 18 38 36" src="https://github.com/user-attachments/assets/18df0fbb-27dc-47ba-803e-f1dc78e3ef0b" />
</p>

**Gitman** is a command-line tool designed for macOS to help you manage multiple Git and SSH environments. It's ideal for keeping your work and personal GitHub identities separate, automating SSH key generation, and handling per-project Git configurations.


## ğŸ“¦ Features
  * ğŸ” Generate dedicated SSH keys for each GitHub environment with Apple Keychain support.
  * ğŸ§¾ Create scoped `.gitconfig-<env>` files using `includeIf` rules.
  * ğŸ—‚ï¸ Automatically manage environments under a fixed `~/code/<env>` directory.
  * âœ… SSH authentication and Git identity verification.
  * ğŸ§¹ Clean resets for SSH and Git configurations.

## ğŸ› ï¸ Installation

```bash
brew tap joshgallantt/homebrew-tap
brew install gitman
```

## ğŸ§© How It Works

Gitman leverages Git's **`includeIf`** mechanism to load different user configurations based on your current working directory. It also utilizes custom SSH **`Host` aliases** (e.g., `github.com-work`) within `~/.ssh/config` to maintain separate SSH identities for each environment.

#### ğŸ”§ Generated File Structure

```
~/
â”œâ”€â”€ .ssh/
â”‚   â”œâ”€â”€ id_ed25519_work
â”‚   â”œâ”€â”€ id_ed25519_work.pub
â”‚   â””â”€â”€ config
â”œâ”€â”€ .gitconfig
â”œâ”€â”€ .gitconfig-work
â””â”€â”€ code/
    â””â”€â”€ work/
```

#### ğŸ“ Code Directory

Gitman assumes all your Git environments reside under `~/code/<env>`. This directory structure is hardcoded and used to:

  * Scope Git configurations (using `includeIf "gitdir:~/code/<env>/"`).
  * Organize projects by environment.
  * Determine which Git configuration applies when you're working within a project.

If you use a different base directory, you'll need to manually edit the script and change the `CODE_DIR` variable near the top:

```bash
CODE_DIR="$HOME/code"
```

## ğŸš€ Usage

Gitman provides an interactive menu:

```
1. Reset SSH Configuration
2. Reset Git Configuration
3. Add Environment
4. List & Verify Environments
5. Exit
```

#### 1. Reset SSH Configuration
* Removes all SSH keys generated by Gitman and clears associated entries in `~/.ssh/config`.

#### 2. Reset GIT Configuration
* Deletes your main `~/.gitconfig` and all environment-specific `~/.gitconfig-*` files.

#### 3. Add Environment

Choosing this option will:

  * Ask for an environment name (e.g., `work`, `personal`).
  * Prompt for your Git `user.name` and `user.email`.
  * Generate SSH keys at `~/.ssh/id_ed25519_<env>`.
  * Add a custom SSH `Host` (e.g., `github.com-work`).
  * Create a Git configuration file in `~/.gitconfig-<env>`.
  * Scope it to `~/code/<env>` via `~/.gitconfig`.
  * Open the GitHub SSH key settings page in your browser.
  * Wait for your confirmation and then validate the setup.

#### 4. List & Verify Environments

This option checks for all `.gitconfig-*` environments and:

  * Confirms the existence of the corresponding `~/code/<env>` directory.
  * Initializes a temporary Git repository to check the active identity.
  * Verifies the SSH connection using the custom SSH `Host`.


## ğŸ“„ License

MIT License
Â© 2025 Josh Gallant
